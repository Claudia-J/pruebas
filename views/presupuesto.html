<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
  <title>Presupuesto</title>
    <link rel="stylesheet" type="text/css" href="../css/ejercicio.css">
    <script src="validation.js"></script>
    <script src="https://kit.fontawesome.com/6c267f461d.js" crossorigin="anonymous"></script>
    <script>
        
        function validarFormulario() {
  var nombre = document.getElementById("nombre").value;
  var apellidos = document.getElementById("apellidos").value;
  var telefono = document.getElementById("telefono").value;
  var email = docuent.getElementById("email").value;
         
  if (nombre === "" || apellido === "" || telefono === "" || email === "") {
    alert("Por favor, responde todas las preguntas.");
    return false;
  }

  return true;
}     
        function calcularPresupuesto() {
          // Obtener los valores seleccionados por el usuario
          var producto = document.getElementById("producto").value;
          var plazo = document.getElementById("plazo").value;
          var extras = document.querySelectorAll('input[name="extras"]:checked');
          
          // Calcular el presupuesto base según el producto seleccionado
          var presupuestoBase = 0;
          switch (producto) {
            case "opcion1":
              presupuestoBase = 100; // Precio para la opción 1
              break;
            case "opcion2":
              presupuestoBase = 150; // Precio para la opción 2
              break;
            case "opcion3":
              presupuestoBase = 200; // Precio para la opción 3
              break;
            // Puedes agregar más casos según sea necesario
          }
          
          // Calcular el descuento según el plazo
          var descuento = plazo > 6 ? 0.1 : 0; // Descuento del 10% si el plazo es mayor a 6 meses
          
          // Calcular el costo de los extras seleccionados
          var costoExtras = 0;
          extras.forEach(function(extra) {
            costoExtras += parseFloat(extra.value);
          });
    
          // Calcular el presupuesto final
          var presupuestoFinal = presupuestoBase * (1 - descuento) + costoExtras;
    
          // Mostrar el presupuesto final en el campo correspondiente
          document.getElementById("presupuesto").innerText = "Presupuesto Final: $" + presupuestoFinal.toFixed(2);
        }
      </script>
</head>
<body>
    <header>
        <h1>Daily News</h1>
    </header>

    <div class="navbar">
    <a href="../index.html">Página de Inicio</a>
    <a href="../views/galeria.html">Galería</a>
    <a href="../views/contacto.html">Contacto</a>
</div>
  
    <section>
        <h2><b>Datos de Contacto</b></h2>
    <form id="contactForm" action="procesar_presupuesto.php" method="post">
        <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" required maxlength="15">
            <span id="nombreError" class="error"></span>

        <label for="apellidos">Apellidos:</label>
            <input type="text" id="apellidos" name="apellidos" required maxlength="40">
            <span id="apellidosError" class="error"></span>

        <label for="telefono">Teléfono de Contacto:</label>
            <input type="tel" id="telefono" name="telefono" required maxlength="9" placeholder="000 000 000">
            <span id="telefonoError" class="error"></span>

         <label for="email">Correo Electrónico:</label>
            <input type="email" id="email" name="email" required placeholder="nnnnn_nnn@zzzzz.xxx">
            <span id="emailError" class="error"></span>

            <br>
        <label for="numero_documento">Número de Documento:</label>
            <input type="text" id="numero_documento" name="numero_documento" maxlength="10" required placeholder="00000000-X">
    
            <br>
        <label for="producto">Producto:</label>
       
        <select id="producto" name="producto" onchange="calcularPresupuesto()" required>
            <option value="" disabled selected>Selecciona una opción</option>
            <option value="opcion1">Opción 1 - $100</option>
            <option value="opcion2">Opción 2 - $150</option>
            <option value="opcion3">Opción 3 - $200</option>
        </select>

        <br>
        <label for="plazo">Plazo (meses):</label>
        <input type="number" id="plazo" name="plazo" min="1" max="12" onchange="calcularPresupuesto()" required>

         <h2>Extras:</h2>
        <input type="checkbox" id="extra1" name="extras" value="10" onchange="calcularPresupuesto()"> Extra 1 - $10
    <br>
        <input type="checkbox" id="extra2" name="extras" value="20" onchange="calcularPresupuesto()"> Extra 2 - $20
    <br>
    <!-- Puedes agregar más opciones de extras según sea necesario -->

    <h2 id="presupuesto">Presupuesto Final: $0.00</h2>

    <h2>Condiciones y envío del presupuesto:</h2>
    <label for="condiciones">Acepto las condiciones de privacidad:</label>
    <input type="checkbox" id="condiciones" name="condiciones" required>

    <br>

    <input type="submit" value="Enviar">
    <input type="reset" value="Limpiar formulario">
  </form>

    </section>

    <footer>
        <div class="navbar">
          <a href="#redesSociales" class="red_social">
            <i class="fa-brands fa-x-twitter" style="font-size: 24px;"></i>
            <i class="fa-brands fa-facebook-f" style="font-size: 24px;"></i>
            <i class="fa-brands fa-instagram" style="font-size: 24px;"></i></a>
          <a href="../views/contacto.html">Localizacion</a>
            
            
        </div>
    </footer>
</body>
</html>